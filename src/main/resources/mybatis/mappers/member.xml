<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.member">
	
		  <resultMap id="memberResult" type="memberVO">
		  	<association property="memberVO" javaType="memberVO">
				<id property="id" column="id"/>
				<result property="name" column="name"/>
				<result property="nickname" column="nickname"/>
				<result property="phone" column="phone"/>
				<result property="zipcode" column="zipcode"/>
				<result property="address1" column="address1"/>
				<result property="address2" column="address2"/>
				<result property="profile" column="profile"/>
				<result property="joinDate" column="join_date"/>
		 	</association>
		 </resultMap>	
	
		<update id="updateMember" parameterType="memberVO" resultMap="memberResult">
			<![CDATA[
				  UPDATE member 
	            SET profile = #{profile}, 
	                name = #{name}, 
	                nickname = #{nickname}, 
	                phone = #{phone}, 
	                zipcode = #{zipcode}, 
	                address1 = #{address1}, 
	                address2 = #{address2}
	            WHERE id = #{id}
			]]>
		</update>

		<select id="selectMember" parameterType="memberVO" resultMap="memberResult">
			<![CDATA[
				 SELECT * FROM member WHERE id = #{id}
			]]>
		</select>
	
		<select id="getMemberProfile" parameterType="memberVO" resultMap="memberResult">
			<![CDATA[
				SELECT * FROM member WHERE id = #{id}
			]]>
		</select>

</mapper>
